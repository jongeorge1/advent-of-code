namespace AdventOfCode.Year2024.Day14;

using System;
using System.Linq;
using AdventOfCode;

public class Part02 : ISolution
{
    public string Solve(string[] input)
    {
        const int width = 101;
        const int height = 103;

        Robot[] robots = input.Select(x => new Robot(x)).ToArray();

        (int X, int Y)[] finalPositions = robots.Select(x => x.GetPosition(7847, width, height)).ToArray();
        Console.WriteLine($"After 7847 seconds:");
        PrintGrid(finalPositions, width, height);

        return string.Empty;
    }

    private static void PrintGrid((int X, int Y)[] finalPositions, int width, int height)
    {
        for (int y = 0; y < height; ++y)
        {
            for (int x = 0; x < width; ++x)
            {
                if (finalPositions.Contains((x, y)))
                {
                    Console.Write("#");
                }
                else
                {
                    Console.Write(".");
                }
            }

            Console.WriteLine();
        }

        Console.WriteLine();
        Console.WriteLine();
    }
}

////After 7847 seconds:
////............................#........................................................................
////.....................................................................................................
////...........................#.............#............................................#..............
////.....................................................................................................
////.............................................................................#.......................
////............................................................................................#........
////................#...............................#....................................................
////.............................#.......................................................................
////........................................................#................#..#........................
////.................#............#................#....................#...................#.......#....
////............#..........................................#...........................#.#...............
////.........#................................#..........................................................
////..........................................................................#...........#.........#....
////.....#...............................................................................................
////.....................................................................................................
////.....................................................................................................
////.....................................................................................................
////.#.........#.........................................................................................
////.........#.......................................#..........................#.......................#
////....................................................#................................................
////..........................................................#......................#...................
////..#..................................................................................................
////.....................................................................................................
////................#..............................................................#.....................
////..........#.................................................#..................#.....................
////..................................................#..................................................
////.....#...........................#...................................................................
////.............#.........................................#.........................................#...
////...........................................................................#.........................
////......................................#............................................................#.
////......................................................................................#..............
////......................................#..........................#..............#........#...#.......
////....................................................................................#................
////..#..........#..............................#........................................................
////.....................................................................................................
////...................................................................#.................................
////...................................................#.................................................
////..............................................................................#......................
////....#................................................................................................
////.........#...........................................................................................
////.....................................................................................................
////.....................................................................................................
////........................................#..............................................#.............
////...................................................................................#.................
////......................................................#............#.................................
////..............#.........................................................#.........................#..
////..........................................#..............#...........................................
////.....................................................................................................
////...............#.................................#...................................................
////...................................................................................................#.
////.....................................................................................................
////.....................................................................................................
////.......#................................................#............................................
////...................................................................................#.................
////..........................................###############################............................
////..........................................#.............................#......................#..#..
////..........................................#.............................#............................
////.............................#............#.............................#............................
////..........................................#.............................#............................
////..........................................#..............#..............#............................
////..........................................#.............###.............#............................
////...................................#......#............#####............#............................
////........#.....................#.....##....#...........#######...........#............................
////..........................................#..........#########..........#............................
////.........................#................#............#####............#............................
////..................#.....#.................#...........#######...........#............................
////..........................................#..........#########..........#......#.....................
////..........................................#.........###########.........#...................###......
////.....................#....................#........#############........#............................
////.....................#.....#..............#..........#########..........#............................
////..........................................#.........###########.........#............................
////..........................................#........#############........#....#.......................
////....................................#.....#.......###############.......#.#........#.....#...........
////..........................................#......#################......#............................
////..........................................#........#############........#.........................#..
////....................#...............#.....#.......###############.......#............................
////..........................................#......#################......#..#.........................
////.....................................#....#.....###################.....#............................
////....................#..................#..#....#####################....#............................
////.......................#..................#.............###.............#............#...............
////..........................................#.............###.............#............................
////......................................#...#.............###.............#..................#.........
////.......................................#..#.............................#...........#................
////..........................................#.............................#............................
////..........................................#.............................#.....#............#.........
////..........................................#.............................#............................
////............#.............................###############################.......#....................
////.....................................................................................................
////.#.............................................................#.....................................
////.....................................................................................................
////...............................#.................................#...................................
////.....................................................................................................
////.............................................................#.......................................
////..........................#..........................................................................
////.....................................#..................#...........#................................
////..................................................#.................#......................#.........
////...#........................................................................#......#.................
////......................................................................#...#..........................
////....................#................................................................................
////..........#........................................................................#.................
////#....................................................................................................
////..........................................#...................#......................................
////...............................#.....................................................................